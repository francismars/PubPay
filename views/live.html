<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>PUBPAY.me</title>

    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <link rel="apple-touch-icon" sizes="57x57" href="/images/icon/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/images/icon/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/images/icon/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/images/icon/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/images/icon/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/images/icon/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/images/icon/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/images/icon/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/images/icon/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192"  href="/images/icon/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/images/icon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="/images/icon/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/images/icon/favicon-16x16.png">
    <link rel="manifest" href="/images/icon/manifest.json">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/images/icon/ms-icon-144x144.png">
    <meta name="theme-color" content="#ffffff">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Russo+One&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <link rel="stylesheet" href="/stylesheets/style.css?v0.06">
    <link rel="stylesheet" href="/fonts/Inter-4.0/inter.css">

    <script src="/javascripts/qrious.min.js"></script>
    <script src="/javascripts/bolt11.min.js"></script>
    <script src="/javascripts/nostrtools.min.js"></script>
  </head>
  <body class="live">
    <script type="module" src="/javascripts/live.js"></script>

    <!-- Note Loader Container -->
    <div id="noteLoaderContainer">
      <div action="" id="noteLoader">
        <!-- App Header & Description -->
        <div class="app-header">
          <h1>PUBPAY.me Live</h1>
          <p class="app-description">
            Live Zap Leaderboard for Nostr events
          </p>
        </div>
        
        <label for="note1LoaderInput">Enter a Nostr post ID:</label><br>
        <input type="text" id="note1LoaderInput" name="note1LoaderInput" value="" placeholder="note16a..."><br>
        <button id="note1LoaderSubmit" class="button">Load Note</button>
        <div>
          <h3>Examples</h3>
          <div class="example-item">
            <a href="/live/note16a7m73en9w4artfclcnhqf8jzngepmg2j2et3l2yk0ksfhftv0ls3hugv7" target="_blank">
              "Zap my set at at Plan B at Adopting Bitcoin after party ‚ö°Ô∏è"
            </a>
            <div class="author-name">‚Äî Roger 9000</div>
          </div>
          <div class="example-item">
            <a href="/live/note1j8fpjg60gkw266lz86ywmyr2mmy5e6kfkhtfu4umaxneff6qeyhqrl37gu" target="_blank">
              "Bienvenidos a nuestro querido el salvador üá∏üáª"
            </a>
            <div class="author-name">‚Äî Vicky</div>
          </div>
          <div class="example-item">
            <a href="/live/note1lsreglfs5s5zm6e8ssavaak2adsajkad27axp00rvz734u443znqspwhvv" target="_blank">
              "The Network School of Rock is Live from Malaysia!"
            </a>
            <div class="author-name">‚Äî lucas</div>
          </div>
        </div>
        <br>
        <br>
        <div class="styleOptionsModalToggle button">
          Style Options
        </div>
      </div>
    </div>

    <!-- Main two-column layout -->
    <div id="mainLayout" class="main-layout">
      
      <!-- Background image overlay for the entire layout -->
      <div class="liveZapOverlay">
      </div>
      
      <!-- LEFT SIDE: Post/kind1 information (fixed, no scroll) -->
      <div class="left-side">
        <div class="post-info">
          <h3 class="section-label">Post Content</h3>
          
          <!-- Author Section -->
          <div class="author-section">
            <img id="authorNameProfileImg" class="author-image" src="/images/gradient_color.gif"/>
            <div class="author-info">
              <div id="authorName" class="author-name">Author</div>
            </div>
          </div>

          <!-- Note Content Section -->
          <div class="note-section">
            <div id="noteContent" class="note-content">
              <!-- Note content will be populated here -->
            </div>
          </div>

          <!-- QR Code Section -->
          <div class="qr-section">
            <a href="" target="_blank" id="qrcodeLinkNostr">
              <img id="qrCode" class="qr-code">
            </a>
            <div class="qr-instructions">
              Scan with camera app to open post
            </div>
          </div>
        </div>
      </div>

      <!-- RIGHT SIDE: Zaps (can overflow/scroll) -->
      <div class="right-side">
        <div class="zaps-header">
          <div class="zaps-header-left">
            <span class="dashboard-title">
              Zap Leaderboard
            </span>
          </div>
          
          <div class="zaps-header-right">
            <button id="styleToggleBtn" class="style-toggle-btn">
              ‚öôÔ∏è
            </button>
            
            <div class="powered-by">
              <img src="/images/powered_by_white_bg.png">
            </div>
          </div>
        </div>
        
        <div class="zaps-container">
          <div class="section-label">
            <span class="total-label">Total:</span>
            <span id="zappedTotalValue" class="total-amount">0</span>
            <span class="total-sats">sats</span>
          </div>
          <div id="zaps" class="zaps-list">
            <!-- Zaps will be populated here -->
          </div>
        </div>
      </div>

    </div>

    <!-- Style options modal -->
    <div id="styleOptionsModal">
      <div class="style-options-content">
        <div class="style-options-header">
          <h2>üé® Style Options</h2>
          <button class="close-button">&times;</button>
        </div>
        
        <!-- Style Presets Section -->
        <div class="style-section">
          <h3 class="section-title">Quick Presets</h3>
          <div class="presets-container">
            <button class="preset-btn" data-preset="default">‚ö° Default</button>
            <button class="preset-btn" data-preset="cosmic">üåå Cosmic</button>
            <button class="preset-btn" data-preset="vibrant">üé® Vibrant</button>
            <button class="preset-btn" data-preset="electric">‚ö° Electric</button>
            <button class="preset-btn" data-preset="warm">üåÖ Warm</button>
            <button class="preset-btn" data-preset="minimal">üéØ Minimal</button>
          </div>
        </div>

        <div class="style-options-body">
          <!-- Colors Section -->
          <div class="style-section">
            <h3 class="section-title">üé® Colors</h3>
            <div class="colors-container">
              <div class="style-option-group">
                <label for="textColorPicker">Text Color</label>
                <div class="color-picker-container">
                  <input type="color" id="textColorPicker" value="#ffffff">
                  <input type="text" id="textColorValue" value="#ffffff" placeholder="#ffffff">
                </div>
              </div>
              <div class="style-option-group">
                <label for="bgColorPicker">Background Color</label>
                <div class="color-picker-container">
                  <input type="color" id="bgColorPicker" value="#000000">
                  <input type="text" id="bgColorValue" value="#000000" placeholder="#000000">
                </div>
              </div>
            </div>
            <div class="opacity-container">
              <div class="style-option-group">
                <label for="textOpacitySlider">Text Opacity</label>
                <div class="slider-container">
                  <input type="range" id="textOpacitySlider" min="0.1" max="1.0" step="0.1" value="1.0">
                  <span id="textOpacityValue">100%</span>
                </div>
              </div>
              <div class="style-option-group">
                <label for="opacitySlider">Background Opacity</label>
                <div class="slider-container">
                  <input type="range" id="opacitySlider" min="0.1" max="1.0" step="0.1" value="0.5">
                  <span id="opacityValue">50%</span>
                </div>
              </div>
            </div>
          </div>

          <!-- Background Section -->
          <div class="style-section">
            <h3 class="section-title">üñºÔ∏è Background</h3>
            <div class="style-option-group full-width">
              <label for="bgImagePreset">Choose Background</label>
              <div class="bg-preset-controls">
                <div class="preset-inputs">
                  <select id="bgImagePreset" class="bg-preset-select">
                    <option value="/images/lightning.gif">‚ö° Lightning (Default)</option>
                    <option value="https://media4.giphy.com/media/v1.Y2lkPTc5MGI3NjExNThlemdmbjMyZ2JtZGNrNXYzdHllanR0cjR4em91Z2Vzb3R2YzhteiZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/trN9ht5RlE3Dcwavg2/giphy.gif">üöÄ Bitcoin Rocket</option>
                    <option value="https://media4.giphy.com/media/v1.Y2lkPTc5MGI3NjExb3JlMnRxNXc4YW56YXk2MDN2N3JrZGdteXNkdTZwbzB3eWoxZGhjNCZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/hK61m7SawMkqUcyLg1/giphy.gif">üåª Bitcoin Astronaut</option>
                    <option value="https://media0.giphy.com/media/v1.Y2lkPTc5MGI3NjExdDQxdWlyMnhhZjl2dHYwdmZ3c2pzM3ZldDdhemh3MWtxNnFtZHExaSZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/k4n9RZ6c9Gc3eOvBKc/giphy.gif">üåå Bitcoin Space</option>
                    <option value="https://media3.giphy.com/media/v1.Y2lkPTc5MGI3NjExdHl6YTNrN2l4ZXRnaDVsZmplaWU5c3M2bjYwcTZxN3N0cGVrbmprZyZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/vYMEkIhgfi7ooOFlkA/giphy.gif">üåÖ Bitcoin Sunset</option>
                    <option value="https://media4.giphy.com/media/v1.Y2lkPTc5MGI3NjExOWw1NDhqbnk2engwMzBwa2didHJtbnd0NHNjdGRpem8ybTgyZnRhMyZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/Ot7SIhparretCrwRI0/giphy.gif">ü™ô Bitcoin Rotating</option>
                    <option value="https://media4.giphy.com/media/v1.Y2lkPTc5MGI3NjExYzRqdGF6MnVia3k5cjdpZjRqaWY5NWliYjF4NW9jeGI2aXJ5dGR1MiZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/85puET78qkpU5Orh0O/giphy.gif">ü¶Ü Nostr Ostriches</option>
                    <option value="https://media4.giphy.com/media/v1.Y2lkPTc5MGI3NjExY2dkaGl0dTlhb3dncXZwNWw3a2MxbmtmaHhobGN3cnVvNjc3c2hyeSZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/qg9cMYw8vMMag62CbE/giphy.gif">‚ö° Send Zaps</option>
                    <option value="https://media3.giphy.com/media/v1.Y2lkPTc5MGI3NjExMWhnYnpoc2JkNHM3ajM3bmhsanhubm1vcjc0ZTJ2dzhzNnI4MzYzcCZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/TiFHHBZkq6zkFIczBd/giphy.gif">üåÖ GM Nostr</option>
                    <option value="custom">üîó Custom URL</option>
                  </select>
                  <div class="url-input-container" id="customUrlGroup" style="display: none;">
                    <input type="text" id="bgImageUrl" value="/images/lightning.gif" placeholder="Enter image URL">
                    <button id="clearBgImage" class="clear-button">Clear</button>
                  </div>
                </div>
                <div class="preset-preview-container">
                  <img id="bgPresetPreview" src="/images/lightning.gif" alt="Background preview">
                </div>
              </div>
            </div>
          </div>

          <!-- QR Code Section -->
          <div class="style-section">
            <h3 class="section-title">üì± QR Code Effects</h3>
            <div class="toggles-container">
              <div class="style-option-group toggle-group">
                <label class="toggle-label">
                  <div class="toggle-switch">
                    <input type="checkbox" id="qrInvertToggle" value="true">
                    <span class="toggle-slider"></span>
                  </div>
                  <span>Invert QR Code</span>
                </label>
              </div>
              <div class="style-option-group toggle-group">
                <label class="toggle-label">
                  <div class="toggle-switch">
                    <input type="checkbox" id="qrScreenBlendToggle" value="true">
                    <span class="toggle-slider"></span>
                  </div>
                  <span>Screen Blend Mode</span>
                </label>
              </div>
              <div class="style-option-group toggle-group">
                <label class="toggle-label">
                  <div class="toggle-switch">
                    <input type="checkbox" id="qrMultiplyBlendToggle">
                    <span class="toggle-slider"></span>
                  </div>
                  <span>Multiply Blend Mode</span>
                </label>
              </div>
            </div>
          </div>

          <!-- Layout Section -->
          <div class="style-section">
            <h3 class="section-title">üìê Layout</h3>
            <div class="toggles-container">
              <div class="style-option-group toggle-group">
                <label class="toggle-label">
                  <div class="toggle-switch">
                    <input type="checkbox" id="layoutInvertToggle">
                    <span class="toggle-slider"></span>
                  </div>
                  <span>Invert Layout</span>
                </label>
              </div>
              <div class="style-option-group toggle-group">
                <label class="toggle-label">
                  <div class="toggle-switch">
                    <input type="checkbox" id="hideZapperContentToggle">
                    <span class="toggle-slider"></span>
                  </div>
                  <span>Hide Zapper Content</span>
                </label>
              </div>
              <div class="style-option-group toggle-group">
                <label class="toggle-label">
                  <div class="toggle-switch">
                    <input type="checkbox" id="podiumToggle">
                    <span class="toggle-slider"></span>
                  </div>
                  <span>Top 3 Podium</span>
                </label>
              </div>
            </div>
          </div>

          <!-- Advanced Section -->
          <div class="style-section">
            <h3 class="section-title">‚öôÔ∏è Advanced</h3>
            <div class="style-option-group">
              <label for="fontSizeSlider">Font Size</label>
              <div class="slider-container">
                <input type="range" id="fontSizeSlider" min="0.8" max="1.5" step="0.1" value="1.0">
                <span id="fontSizeValue">100%</span>
              </div>
            </div>
          </div>
        </div>

        <!-- Action Buttons -->
        <div class="style-actions">
          <button id="resetStyles" class="action-btn secondary">Reset to Default</button>
          <button id="copyStyleUrl" class="action-btn primary">Copy Style URL</button>
        </div>
      </div>
    </div>

  </body>
</html>
