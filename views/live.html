<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>PUBPAY.me</title>

    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <link rel="apple-touch-icon" sizes="57x57" href="images/icon/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="images/icon/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="images/icon/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="images/icon/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="images/icon/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="images/icon/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="images/icon/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="images/icon/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="images/icon/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192"  href="images/icon/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="images/icon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="images/icon/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="images/icon/favicon-16x16.png">
    <link rel="manifest" href="images/icon/manifest.json">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="images/icon/ms-icon-144x144.png">
    <meta name="theme-color" content="#ffffff">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Russo+One&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <link rel="stylesheet" href="stylesheets/style.css?v0.06">
    <link rel="stylesheet" href="fonts/Inter-4.0/inter.css">

    <script src="./javascripts/qrious.min.js"></script>
    <script src="./javascripts/bolt11.min.js"></script>
    <script src="./javascripts/nostrtools.min.js"></script>
  </head>
  <body class="live">
    <script type="module" src="./javascripts/live.js"></script>

    <!-- Note Loader Container -->
    <div id="noteLoaderContainer">
      <div action="" id="noteLoader">
        <!-- App Header & Description -->
        <div class="app-header">
          <h1>PUBPAY.me Live</h1>
          <p class="app-description">
            Live Zap Leaderboard for Nostr events
          </p>
        </div>
        
        <label for="note1LoaderInput">Enter a Nostr post ID:</label><br>
        <input type="text" id="note1LoaderInput" name="note1LoaderInput" value="" placeholder="note16a..."><br>
        <button id="note1LoaderSubmit" class="button">Load Note</button>
        <div>
          <h3>Examples</h3>
          <div class="example-item">
            <a href="https://pubpay.me/live?note=note16a7m73en9w4artfclcnhqf8jzngepmg2j2et3l2yk0ksfhftv0ls3hugv7" target="_blank">
              "Zap my set at at Plan B at Adopting Bitcoin after party ‚ö°Ô∏è"
            </a>
            <div class="author-name">‚Äî Roger 9000</div>
          </div>
          <div class="example-item">
            <a href="https://pubpay.me/live?note=note1j8fpjg60gkw266lz86ywmyr2mmy5e6kfkhtfu4umaxneff6qeyhqrl37gu" target="_blank">
              "Bienvenidos a nuestro querido el salvador üá∏üáª"
            </a>
            <div class="author-name">‚Äî Vicky</div>
          </div>
          <div class="example-item">
            <a href="https://pubpay.me/live?note=note1lsreglfs5s5zm6e8ssavaak2adsajkad27axp00rvz734u443znqspwhvv" target="_blank">
              "The Network School of Rock is Live from Malaysia!"
            </a>
            <div class="author-name">‚Äî lucas</div>
          </div>
        </div>
        <br>
        <br>
        <div class="styleOptionsModalToggle button">
          Style Options
        </div>
      </div>
    </div>

    <!-- Main two-column layout -->
    <div id="mainLayout" class="main-layout">
      
      <!-- Background image overlay for the entire layout -->
      <div class="liveZapOverlay">
      </div>
      
      <!-- LEFT SIDE: Post/kind1 information (fixed, no scroll) -->
      <div class="left-side">
        <div class="post-info">
          <h3 class="section-label">Post Content</h3>
          
          <!-- Author Section -->
          <div class="author-section">
            <img id="authorNameProfileImg" class="author-image" src="/images/gradient_color.gif"/>
            <div class="author-info">
              <div id="authorName" class="author-name">Author</div>
            </div>
          </div>

          <!-- Note Content Section -->
          <div class="note-section">
            <div id="noteContent" class="note-content">
              <!-- Note content will be populated here -->
            </div>
          </div>

          <!-- QR Code Section -->
          <div class="qr-section">
            <a href="" target="_blank" id="qrcodeLinkNostr">
              <img id="qrCode" class="qr-code">
            </a>
            <div class="qr-instructions">
              Scan with camera app to open post
            </div>
          </div>
        </div>
      </div>

      <!-- RIGHT SIDE: Zaps (can overflow/scroll) -->
      <div class="right-side">
        <div class="zaps-header">
          <div class="zaps-header-left">
            <span class="dashboard-title">
              Zap Leaderboard
            </span>
          </div>
          
          <div class="zaps-header-right">
            <button id="styleToggleBtn" class="style-toggle-btn">
              ‚öôÔ∏è
            </button>
            
            <div class="powered-by">
              <img src="/images/powered_by_white_bg.png">
            </div>
          </div>
        </div>
        
        <div class="zaps-container">
          <div class="section-label">
            <span class="total-label">Total:</span>
            <span id="zappedTotalValue" class="total-amount">0</span>
            <span class="total-sats">sats</span>
          </div>
          <div id="zaps" class="zaps-list">
            <!-- Zaps will be populated here -->
          </div>
        </div>
      </div>

    </div>

    <!-- Style options modal -->
    <div id="styleOptionsModal">
      <div class="style-options-content">
        <div class="style-options-header">
          <h2>Style Options</h2>
          <button class="close-button">&times;</button>
        </div>
        <div class="style-options-body">
          <div class="style-option-group">
            <label for="textColorPicker">Text Color</label>
            <div class="color-picker-container">
              <input type="color" id="textColorPicker" value="#ffffff">
              <input type="text" id="textColorValue" value="#ffffff" placeholder="#ffffff">
            </div>
          </div>
          <div class="style-option-group">
            <label for="bgColorPicker">Background Color</label>
            <div class="color-picker-container">
              <input type="color" id="bgColorPicker" value="#000000">
              <input type="text" id="bgColorValue" value="#000000" placeholder="#000000">
            </div>
          </div>
          <div class="style-option-group full-width">
            <label for="bgImageUrl">Background Image URL</label>
            <div class="bg-image-controls">
              <div class="url-input-container">
                <input type="text" id="bgImageUrl" value="/images/lightning.gif" placeholder="Enter image URL">
                <br><button id="clearBgImage" class="clear-button">Clear</button>
              </div>
              <div class="preview-container">
                <img id="bgImagePreview" src="/images/lightning.gif" alt="Background preview">
              </div>
            </div>
          </div>
          <div class="style-option-group toggle-group">
            <label class="toggle-label">
              <div class="toggle-switch">
                <input type="checkbox" checked id="qrInvertToggle" value="true">
                <span class="toggle-slider"></span>
              </div>
              <span>Invert QR Code</span>
            </label>
          </div>
          <div class="style-option-group toggle-group">
            <label class="toggle-label">
              <div class="toggle-switch">
                <input type="checkbox" checked id="qrScreenBlendToggle" value="true">
                <span class="toggle-slider"></span>
              </div>
              <span>QR Code Screen Blend</span>
            </label>
          </div>
          <div class="style-option-group toggle-group">
            <label class="toggle-label">
              <div class="toggle-switch">
                <input type="checkbox" id="qrMultiplyBlendToggle">
                <span class="toggle-slider"></span>
              </div>
              <span>QR Code Multiply Blend</span>
            </label>
          </div>
          <div class="style-option-group toggle-group">
            <label class="toggle-label">
              <div class="toggle-switch">
                <input type="checkbox" id="layoutInvertToggle">
                <span class="toggle-slider"></span>
              </div>
              <span>Invert Layout</span>
            </label>
          </div>
          <div class="style-option-group toggle-group">
            <label class="toggle-label">
              <div class="toggle-switch">
                <input type="checkbox" id="hideZapperContentToggle">
                <span class="toggle-slider"></span>
              </div>
              <span>Hide Zapper Content</span>
            </label>
          </div>
        </div>
      </div>
    </div>

  </body>
</html>
